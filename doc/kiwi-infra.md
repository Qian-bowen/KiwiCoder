# Kiwi Infra Design

Kiwi语言会支持生物实验标准API（Standard Bio Experiment API，SBE），用户可以通过Kiwi来编写实验流程。需要编写在一个文件中，文件名以.kw结尾。部分SBE有默认的内置实现，有同步、异步、流式三种模式。SBE用户可以标注模拟的返回值，用于模拟调试。

用户标注需要自己实现的SBE，KiwiCoder会用krpc生成用Python或C++语言（先做c++）编写的RPC脚手架代码，用户导出该框架，实现对应函数即可。

RPC 框架代码包含两部分，RPC和Mock RPC，对应实际运行和模拟运行功能。用户可以根据需求实现。RPC支持同步、异步、流式（用于监控场景，调试所用的设备作为server，实验硬件把数据push给server）。（优化点：监控是对性能要求较高的场景，可以作为创新点优化。重点可以放在网络方面的优化，因为实验过程中需要实时迅速知道设备是否出现问题。数据的持久化要求不高，因为一次实验的数据量很有限。）

KiwiCoder会将kw文件编译成字节码运行。（难点：简易虚拟机和调试功能的实现）

KiwiCoder可以导出一份report文件，文件中是自然语言描述的实验流程。（有时间再做，不算很复杂）

KiwiCoder有简单的UI界面展示监控和告警信息和数字图像。

Kiwi最大的优势是将实验的代码描述、自然语言描述相结合，将代码逻辑与边缘设备的逻辑实现进行解耦。